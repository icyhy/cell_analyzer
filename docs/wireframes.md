# 低保真线框图 (Wireframes): 交互式细胞图像分析平台

---

## 1. 主界面布局

**描述**: 这是应用的核心界面，采用三栏式布局，旨在提供一个高效、直观的工作流程。用户的大部分操作都在此完成。

```plaintext
+--------------------------------------------------------------------------------------------------+
|                                   交互式细胞图像分析平台 (App Title)                                   |
+--------------------------------------------------------------------------------------------------+
| 左侧栏 (File Management)      | 中间主区域 (Image Canvas & Toolbar)      | 右侧栏 (Analysis Results)        |
|-------------------------------|------------------------------------------|----------------------------------|
|                               |                                          |                                  |
| [ + 上传新图像 ] (Button)     |  +------------------------------------+  | [分析结果] (Title)               |
|                               |  | Toolbar                            |  |                                  |
| [文件列表] (Title)            |  | [Zoom In] [Zoom Out] [Pan]         |  | [细胞总数]: N/A (Label)          |
|  - image_01.tif (Selected)    |  | [ROI Tools: Rect, Circle, Poly]    |  |                                  |
|  - image_02.tif               |  +------------------------------------+  | [ROI 分析] (Title)               |
|  - image_03.tif               |                                          |  |                                  |
|                               |  +------------------------------------+  |  [当前无ROI] (Placeholder Text)  |
|                               |  |                                    |  |                                  |
|                               |  |                                    |  |                                  |
|                               |  |      <  Image Display Area  >      |  |                                  |
|                               |  |                                    |  |                                  |
|                               |  |                                    |  |                                  |
|                               |  +------------------------------------+  |                                  |
|                               |                                          |                                  |
|                               |  +------------------------------------+  |                                  |
|                               |  | Z-Stack Slider (Hidden by default) |  |                                  |
|                               |  | <-----[O]------------------------> |  |                                  |
|                               |  | Frame: 1 / 100                     |  |                                  |
|                               |  +------------------------------------+  |                                  |
|                               |                                          |                                  |
|                               |  [开始分析] (Primary Button)           |  [导出数据] (Button)              |
|                               |                                          |  [导出图像] (Button)              |
+--------------------------------------------------------------------------------------------------+
```

**组件说明**:
- **左侧栏**: 用于上传和管理图像文件。默认显示上传按钮和文件列表。
- **中间主区域**: 
  - **Toolbar**: 包含图像导航（缩放、平移）和ROI绘制工具。
  - **Image Display Area**: 显示`.tif`图像的核心画布。
  - **Z-Stack Slider**: 仅当加载的图像是多帧Stack时显示。
  - **开始分析按钮**: 触发后端细胞识别功能的核心操作按钮。
- **右侧栏**: 用于展示所有定量分析的结果。初始状态下为空或显示提示信息。

---

## 2. 交互流程线框图

### 流程 1: 首次进入与上传文件

```plaintext
// 1. 用户首次访问，主区域显示欢迎信息或上传提示
+--------------------------------------------------------------------------------------------------+
| ...                               |                                          | ...                              |
| [ + 上传新图像 ]                  |  +------------------------------------+  |                                  |
|                                   |  |      欢迎使用！请先上传一张图片。      |  |                                  |
|                                   |  +------------------------------------+  |                                  |
| ...                               |                                          | ...                              |
+--------------------------------------------------------------------------------------------------+

// 2. 用户点击“上传”，选择文件后，左侧列表更新，图像加载至主区域
+--------------------------------------------------------------------------------------------------+
| ...                               |                                          | ...                              |
| [文件列表]                        |  +------------------------------------+  | [分析结果]                       |
|  - my_cells.tif (Selected)        |  |  (Image of my_cells.tif appears)   |  |  细胞总数: N/A                   |
|                                   |  +------------------------------------+  |                                  |
| ...                               |                                          | ...                              |
+--------------------------------------------------------------------------------------------------+
```

### 流程 2: 自动细胞识别

```plaintext
// 1. 用户点击“开始分析”，按钮变为加载状态，图像上出现覆盖层
+--------------------------------------------------------------------------------------------------+
| ...                               |                                          | ...                              |
|                                   |  +------------------------------------+  |                                  |
|                                   |  | (Image with loading overlay)       |  |                                  |
|                                   |  |      [正在分析中...]               |  |                                  |
|                                   |  +------------------------------------+  |                                  |
|                                   |  [分析中...] (Button disabled)         |                                  |
| ...                               |                                          | ...                              |
+--------------------------------------------------------------------------------------------------+

// 2. 分析完成，图像上叠加轮廓，右侧栏更新总数
+--------------------------------------------------------------------------------------------------+
| ...                               |                                          | ...                              |
|                                   |  +------------------------------------+  | [分析结果]                       |
|                                   |  | (Image with cell outlines drawn)   |  |  细胞总数: 482                   |
|                                   |  +------------------------------------+  |                                  |
| ...                               |                                          | ...                              |
+--------------------------------------------------------------------------------------------------+
```

### 流程 3: ROI绘制与分析

```plaintext
// 1. 用户选择“矩形ROI”工具，在图像上拖拽绘制
+--------------------------------------------------------------------------------------------------+
| ...                               |                                          | ...                              |
|                                   |  +------------------------------------+  | [ROI 分析]                       |
|                                   |  | (Image with a rectangle ROI)       |  |  [当前无ROI]                     |
|                                   |  +------------------------------------+  |                                  |
| ...                               |                                          | ...                              |
+--------------------------------------------------------------------------------------------------+

// 2. 绘制完成，右侧栏自动计算并显示该ROI的数据
+--------------------------------------------------------------------------------------------------+
| ...                               |                                          | ...                              |
|                                   |  +------------------------------------+  | [ROI 分析]                       |
|                                   |  | (Image with a rectangle ROI)       |  |  - ROI #1 (矩形)                 |
|                                   |  +------------------------------------+  |    细胞数: 53                    |
|                                   |                                          |    面积: 12345 px²               |
|                                   |                                          |    密度: 0.0043/px²              |
| ...                               |                                          | ...                              |
+--------------------------------------------------------------------------------------------------+
```

### 流程 4: 导出数据

```plaintext
// 用户点击“导出数据”，触发浏览器下载 .csv 文件
// 用户点击“导出图像”，触发浏览器下载 .png 文件
// (无界面变化，为浏览器标准交互)
```